{
  "id": "lesson_05_aggregations",
  "title": "Basic Aggregations",
  "markdown_content": "## Aggregate Functions\n\nAggregate functions perform a calculation on a set of rows and return a single value.\n\n### Common aggregates\n\n- `COUNT(*)` - number of rows\n- `SUM(column)` - sum of values\n- `AVG(column)` - average\n- `MIN(column)` - minimum value\n- `MAX(column)` - maximum value\n\n### Example\n\nCount all customers:\n\n```sql\nSELECT COUNT(*) FROM customers;\n```\n\nFind the total quantity ordered across all orders:\n\n```sql\nSELECT SUM(quantity) FROM orders;\n```\n\n### GROUP BY\n\nUse `GROUP BY` to aggregate per group. For example, total quantity per customer:\n\n```sql\nSELECT customer_id, SUM(quantity) as total_quantity\nFROM orders\nGROUP BY customer_id;\n```",
  "challenges": [
    {
      "instructions": "Challenge 1: Write a query to get the total number of orders in the orders table.",
      "starter_query": "SELECT COUNT(*) FROM orders",
      "validation_type": "result_match",
      "validation_query": "SELECT COUNT(*) FROM orders",
      "hint": "Use COUNT(*) to count all rows in the orders table.",
      "solution": "SELECT COUNT(*) FROM orders"
    },
    {
      "instructions": "Challenge 2: Write a query to get the sum of quantity across all orders.",
      "starter_query": "SELECT SUM(quantity) FROM orders",
      "validation_type": "result_match",
      "validation_query": "SELECT SUM(quantity) FROM orders",
      "hint": "Use SUM(quantity) to add up all quantities in the orders table.",
      "solution": "SELECT SUM(quantity) FROM orders"
    },
    {
      "instructions": "Challenge 3: Write a query to get the total number of customers.",
      "starter_query": "SELECT COUNT(*) FROM customers",
      "validation_type": "result_match",
      "validation_query": "SELECT COUNT(*) FROM customers",
      "hint": "Use COUNT(*) FROM customers to count all customers.",
      "solution": "SELECT COUNT(*) FROM customers"
    }
  ]
}
